<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>body {
	color: #000000;
	background-color: #FFFFFF;
	font-size: 24;
	font-family: Serif;
	font-weight: bold;
	font-style: italic;
	}
	h1, h2, h3, h4, h5, h6 {
	color: #000000;
	background-color: #FFFFFF;
	font-size: 24;
	font-family: Serif;
	font-weight: bold;
	font-style: italic;
	}
	table, pre {
	color: #000000;
	background-color: #FFFFFF;
	font-size: 16;
	font-family: Serif;
	font-weight: normal;
	font-style: normal;
	}
	ul, #myUL {
	list-style-type: none;
	}
	#myUL {
	margin: 0;
	padding: 0;
	}
	.caret, .dropDownCaret {
	cursor: pointer;
	}
	.caret::before {
	content: "\25B6";
	color: black;
	display: inline - block;
	margin - right: 6px;
	}
	.dropDownCaret::before {
	content: "\25BC";
	color: black;
	display: inline - block;
	margin - right: 6px;
	float: right;
	}
	.nested {
	display: none;
	}
	.active {
	display: block;
	}
 </style>
 </head>
 <body>
	<div>Power BI Documentation</div>
	<div>
	Generated by <a href="http://radacad.com/power-bi-helper">Power BI Helper</a> (Copyright © <a href="http://radacad.com/">RADACAD</a>).<br><br>Key Performance Indicators<hr>
	</div><br>Measures
	<br>
	<table border="1" cellpadding="3">
	<tbody><tr>
		<th>Measure Name</th>
		<th>Table Name</th>
		<th>Description</th>
		<th>Expression</th>
		<th>Dependency</th>
		<th>Reverse Dependency</th>
	</tr>
	<tr>
		<td>Value Actuals</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>AVERAGE ( 'fact Actuals'[Value] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Value Actuals</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Value Actuals</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Format Value - Actuals</span>
<ul class="nested">
<li>Measure: PY - Current or Last Month</li>
<li>Measure: Result - Current or Last Month</li>
<li>Measure: PY - Current or Last Month (Father KPI)</li>
<li>Measure: Result - Current or Last Month (Father KPI)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Annual - KPI Quantity</span>
<ul class="nested">
<li>Measure: Annual - KPI Quantity (Critical)</li>
<li>Measure: Annual - KPI Quantity (Warning)</li>
<li>Measure: Annual - KPI Quantity (Good)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: No Actual</span>
<ul class="nested">
<li>Measure: Output Missing Value Type</li>
</ul></li>
<li>Measure: Output Status KPI - Conditional Formatting</li>
<li><span class="caret">Measure: Annual - KPI Quantity</span>
<ul class="nested">
<li>Measure: Annual - KPI Quantity (Critical)</li>
<li>Measure: Annual - KPI Quantity (Warning)</li>
<li>Measure: Annual - KPI Quantity (Good)</li>
</ul></li>
<li>Measure: Actual vs PY (Conditional Formatting)</li>
<li><span class="caret">Measure: Base - Value Actual (Hierarchy Analysis)</span>
<ul class="nested">
<li>Measure: Final - Value Actuals (Hierarchy Analysis)</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
</ul></li>
<li><span class="caret">Measure: PY - Current or Last Month (Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (PY) - LY or CY</li>
</ul></li>
<li><span class="caret">Measure: Result - Current or Last Month (Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (Result) - LY or CY</li>
</ul></li>
<li><span class="caret">Measure: PY - Current or Last Month (Father KPI - Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (PY - Father KPI) - LY or CY</li>
</ul></li>
<li><span class="caret">Measure: Result - Current or Last Month (Father KPI - Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
</ul></li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Selected KPI Type</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim KPI'[Type] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected KPI Type</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected KPI Type</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Format Value - Actuals</span>
<ul class="nested">
<li>Measure: PY - Current or Last Month</li>
<li>Measure: Result - Current or Last Month</li>
<li>Measure: PY - Current or Last Month (Father KPI)</li>
<li>Measure: Result - Current or Last Month (Father KPI)</li>
</ul></li>
<li><span class="caret">Measure: Format Value - Target</span>
<ul class="nested">
<li>Measure: Target - Current or Last Month</li>
<li>Measure: Target - Current or Last Month (Father KPI)</li>
<li><span class="caret">Measure: Target - Current or Last Month (Father KPI - Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
<li>Measure: Conditional Formatting (Target - Father KPI) - LY or CY</li>
</ul></li>
</ul></li>
<li>Measure: Final - Value Actuals (Hierarchy Analysis)</li>
<li>Measure: Final - Value Target (Hierarchy Analysis)</li>
<li>Measure: Final - Value PY (Hierarchy Analysis)</li>
<li><span class="caret">Measure: Format Value - PY</span>
<ul class="nested">
<li>Measure: PY - Current or Last Month</li>
<li>Measure: Result - Current or Last Month</li>
<li>Measure: PY - Current or Last Month (Father KPI)</li>
<li>Measure: Result - Current or Last Month (Father KPI)</li>
</ul></li>
<li><span class="caret">Measure: Base - Value Actual (Hierarchy Analysis)</span>
<ul class="nested">
<li>Measure: Final - Value Actuals (Hierarchy Analysis)</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
</ul></li>
<li><span class="caret">Measure: Base - Value Target (Hierarchy Analysis)</span>
<ul class="nested">
<li>Measure: Final - Value Target (Hierarchy Analysis)</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
</ul></li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Value Target</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>AVERAGE ( 'fact Target'[Value] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Value Target</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Value Target</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Format Value - Target</span>
<ul class="nested">
<li>Measure: Target - Current or Last Month</li>
<li>Measure: Target - Current or Last Month (Father KPI)</li>
<li><span class="caret">Measure: Target - Current or Last Month (Father KPI - Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
<li>Measure: Conditional Formatting (Target - Father KPI) - LY or CY</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Annual - KPI Quantity</span>
<ul class="nested">
<li>Measure: Annual - KPI Quantity (Critical)</li>
<li>Measure: Annual - KPI Quantity (Warning)</li>
<li>Measure: Annual - KPI Quantity (Good)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: No Target</span>
<ul class="nested">
<li>Measure: Output Missing Value Type</li>
</ul></li>
<li>Measure: Output Status KPI - Conditional Formatting</li>
<li><span class="caret">Measure: Base - Value Target (Hierarchy Analysis)</span>
<ul class="nested">
<li>Measure: Final - Value Target (Hierarchy Analysis)</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
</ul></li>
<li><span class="caret">Measure: Target - Current or Last Month (Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (Result) - LY or CY</li>
<li>Measure: Conditional Formatting (Target) - LY or CY</li>
</ul></li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Format Value - Actuals</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _FORMAT_SELECTED = [Selected KPI Type]
VAR _Actual = [Value Actuals]
RETURN
    IF (
        NOT ( _Actual ) = BLANK (),
        SWITCH (
            _FORMAT_SELECTED,
            "Percentage", FORMAT ( _Actual, "Percent" ),
            "Number", _Actual,
            "MW", _Actual,
            "Currency (3)", "$ " &amp; FIXED ( _Actual, 3 ),
            "Currency", "$ " &amp; FIXED ( _Actual, 2 )
        )
    )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Format Value - Actuals</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Format Value - Actuals</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: PY - Current or Last Month</li>
<li>Measure: Result - Current or Last Month</li>
<li>Measure: PY - Current or Last Month (Father KPI)</li>
<li>Measure: Result - Current or Last Month (Father KPI)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Selected KPI</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim KPI'[KPI] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected KPI</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected KPI</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Visual Filter - Father (Included / Excluded)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Title Page</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>"Monthly Report - KPI"</pre></td>
		<td>Measure: Title Page</td>
		<td>Measure: Title Page</td>
	</tr>
	<tr>
		<td>Format Value - Target</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _FORMAT_SELECTED = [Selected KPI Type]
VAR _Target = [Value Target]
RETURN
    IF (
        NOT ( _Target ) = BLANK (),
        SWITCH (
            _FORMAT_SELECTED,
            "Percentage", FORMAT ( _Target, "Percent" ),
            "Number", _Target,
            "MW", _Target,
            "Currency (3)", "$ " &amp; FIXED ( _Target, 3 ),
            "Currency", "$ " &amp; FIXED ( _Target, 2 )
        )
    )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Format Value - Target</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Format Value - Target</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Target - Current or Last Month</li>
<li>Measure: Target - Current or Last Month (Father KPI)</li>
<li><span class="caret">Measure: Target - Current or Last Month (Father KPI - Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
<li>Measure: Conditional Formatting (Target - Father KPI) - LY or CY</li>
</ul></li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Month - KPI Quantity (Good)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>CALCULATE (
    [Month - KPI Quantity],
    ALL ( 'Aux FIlter Status KPI Qt' ),
    'Aux FIlter Status KPI Qt'[Value] = 1
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Selected Green_Threshold</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim KPI'[Threshold (Green)] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Green_Threshold</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Green_Threshold</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Output Status KPI</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Annual - KPI Quantity</span>
<ul class="nested">
<li>Measure: Annual - KPI Quantity (Critical)</li>
<li>Measure: Annual - KPI Quantity (Warning)</li>
<li>Measure: Annual - KPI Quantity (Good)</li>
</ul></li>
</ul></li>
<li>Measure: Output Status KPI - Conditional Formatting</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
<li>Measure: Conditional Formatting (Result) - LY or CY</li>
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Selected Yellow_Threshold</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim KPI'[Threshold (Yellow)] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Yellow_Threshold</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Yellow_Threshold</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Output Status KPI</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Annual - KPI Quantity</span>
<ul class="nested">
<li>Measure: Annual - KPI Quantity (Critical)</li>
<li>Measure: Annual - KPI Quantity (Warning)</li>
<li>Measure: Annual - KPI Quantity (Good)</li>
</ul></li>
</ul></li>
<li>Measure: Output Status KPI - Conditional Formatting</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
<li>Measure: Conditional Formatting (Result) - LY or CY</li>
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Selected KPI Direction</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim KPI'[Direction] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected KPI Direction</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected KPI Direction</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Output Status KPI</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Annual - KPI Quantity</span>
<ul class="nested">
<li>Measure: Annual - KPI Quantity (Critical)</li>
<li>Measure: Annual - KPI Quantity (Warning)</li>
<li>Measure: Annual - KPI Quantity (Good)</li>
</ul></li>
</ul></li>
<li>Measure: Output Status KPI - Conditional Formatting</li>
<li>Measure: Actual vs PY (Conditional Formatting)</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
<li>Measure: Conditional Formatting (Result) - LY or CY</li>
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Output Status KPI</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Just return status if has target value
VAR _Actual = [Value Actuals]
VAR _Target = [Value Target] //KPI Direction and threshold
VAR _Direction = [Selected KPI Direction]
VAR _Green_Thre = [Selected Green_Threshold]
VAR _Yellow_Thre = [Selected Yellow_Threshold] //Status for each kpi type
VAR _Status_Better_Up =
    SWITCH (
        TRUE (),
        _Actual &gt;= _Green_Thre * _Target, 1,
        _Actual &gt;= _Yellow_Thre * _Target, 0,
        _Actual &lt; _Yellow_Thre * _Target, -1
    )
VAR _Status_Better_Down =
    SWITCH (
        TRUE (),
        _Actual &lt;= _Yellow_Thre * _Target, 1,
        _Actual &lt;= _Green_Thre * _Target, 0,
        _Actual &gt; _Green_Thre * _Target, -1
    )
VAR _Final_Status =
    SWITCH (
        _Direction,
        "Better Up", _Status_Better_Up,
        "Better Down", _Status_Better_Down
    )
RETURN
    //Aqui antes era somente aqueles que tem os dois. No que William solicitou, se tem actual e nao tem target, valor será 1.
    IF (
        INT ( ISBLANK ( _Target ) ),
        1,
        IF (
            --AND(NOT(INT(ISBLANK(_Actual))),NOT(INT(ISBLANK(_Target)))),_Final_Status)
            NOT ( INT ( ISBLANK ( _Actual ) ) ),
            _Final_Status
        )
    )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Output Status KPI</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Output Status KPI</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity</span>
<ul class="nested">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Annual - KPI Quantity</span>
<ul class="nested">
<li>Measure: Annual - KPI Quantity (Critical)</li>
<li>Measure: Annual - KPI Quantity (Warning)</li>
<li>Measure: Annual - KPI Quantity (Good)</li>
</ul></li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Month - KPI Quantity (Critical)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>CALCULATE (
    [Month - KPI Quantity],
    ALL ( 'Aux FIlter Status KPI Qt' ),
    'Aux FIlter Status KPI Qt'[Value] = -1
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Month - KPI Quantity (Warning)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>CALCULATE (
    [Month - KPI Quantity],
    ALL ( 'Aux FIlter Status KPI Qt' ),
    'Aux FIlter Status KPI Qt'[Value] = 0
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Month - KPI Quantity</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SUMX (
    VALUES ( 'dim Calendar'[Month] ),
    CALCULATE (
        SUMX ( VALUES ( 'dim KPI'[KPI] ), 1 ),
        FILTER (
            VALUES ( 'dim KPI'[KPI] ),
            [Output Status KPI] &lt;= MAX ( 'Aux FIlter Status KPI Qt'[Value] )
                &amp;&amp; [Output Status KPI] &gt;= MIN ( 'Aux FIlter Status KPI Qt'[Value] )
                &amp;&amp; [Value Actuals] &lt;&gt; BLANK ()
        )
    )
)
--&amp;&amp;  [Value Target] &lt;&gt; BLANK()))))))</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Month - KPI Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Month - KPI Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Good Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Yellow Circle</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Warning Quantity</li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Complete Green Circle</li>
<li>Measure: Complete Red Circle</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Not Show Blank - Critical Quantity</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Complete Green Circle</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _Yellow = [Month - KPI Quantity (Warning)]
VAR _Red = [Month - KPI Quantity (Critical)]
RETURN
    _Yellow + _Red</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Complete Green Circle</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Critical) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Complete Green Circle</td>
	</tr>
	<tr>
		<td>Complete Yellow Circle</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _Green = [Month - KPI Quantity (Good)]
VAR _Red = [Month - KPI Quantity (Critical)]
RETURN
    _Green + _Red</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Complete Yellow Circle</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Critical) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Complete Yellow Circle</td>
	</tr>
	<tr>
		<td>Complete Red Circle</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _Green = [Month - KPI Quantity (Good)]
VAR _Yellow = [Month - KPI Quantity (Warning)]
RETURN
    _Green + _Yellow</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Complete Red Circle</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Month - KPI Quantity (Warning) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Complete Red Circle</td>
	</tr>
	<tr>
		<td>Quarter - KPI Quantity (Good)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>CALCULATE (
    [Quarter - KPI Quantity],
    ALL ( 'Aux FIlter Status KPI Qt' ),
    'Aux FIlter Status KPI Qt'[Value] = 1
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Switch - Good KPI (Month - Quarter)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SWITCH (
    [Selected Field Parameter],
    0, [Quarter - KPI Quantity (Good)],
    1, [Month - KPI Quantity (Good)]
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Switch - Good KPI (Month - Quarter)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Good) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Selected Field Parameter (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Calc_Table: Periods (Table: Periods)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
</ul></li>
<li>Calc_Column: Parameter Order (Table: Periods)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Switch - Good KPI (Month - Quarter)</td>
	</tr>
	<tr>
		<td>Quarter - KPI Quantity</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SUMX (
    VALUES ( 'dim Calendar'[Quarter] ),
    CALCULATE (
        SUMX ( VALUES ( 'dim KPI'[KPI] ), 1 ),
        FILTER (
            VALUES ( 'dim KPI'[KPI] ),
            [Output Status KPI] &lt;= MAX ( 'Aux FIlter Status KPI Qt'[Value] )
                &amp;&amp; [Output Status KPI] &gt;= MIN ( 'Aux FIlter Status KPI Qt'[Value] )
                &amp;&amp; [Value Actuals] &lt;&gt; BLANK ()
        )
    )
)
--&amp;&amp;  [Value Target] &lt;&gt; BLANK())))</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Quarter - KPI Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Quarter - KPI Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Quarter - KPI Quantity (Good)</span>
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span>
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span>
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Quarter - KPI Quantity (Warning)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>CALCULATE (
    [Quarter - KPI Quantity],
    ALL ( 'Aux FIlter Status KPI Qt' ),
    'Aux FIlter Status KPI Qt'[Value] = 0
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Quarter - KPI Quantity (Critical)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>CALCULATE (
    [Quarter - KPI Quantity],
    ALL ( 'Aux FIlter Status KPI Qt' ),
    'Aux FIlter Status KPI Qt'[Value] = -1
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Switch - Warning KPI (Month - Quarter)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SWITCH (
    [Selected Field Parameter],
    0, [Quarter - KPI Quantity (Warning)],
    1, [Month - KPI Quantity (Warning)]
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Switch - Warning KPI (Month - Quarter)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Warning) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Warning) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Selected Field Parameter (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Calc_Table: Periods (Table: Periods)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
</ul></li>
<li>Calc_Column: Parameter Order (Table: Periods)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Switch - Warning KPI (Month - Quarter)</td>
	</tr>
	<tr>
		<td>Switch - Critical KPI (Month - Quarter)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SWITCH (
    [Selected Field Parameter],
    0, [Quarter - KPI Quantity (Critical)],
    1, [Month - KPI Quantity (Critical)]
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Switch - Critical KPI (Month - Quarter)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Critical) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Critical) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Selected Field Parameter (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Calc_Table: Periods (Table: Periods)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
</ul></li>
<li>Calc_Column: Parameter Order (Table: Periods)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Switch - Critical KPI (Month - Quarter)</td>
	</tr>
	<tr>
		<td>Title - Graph</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>"Quantity over " &amp; SELECTEDVALUE ( Periods[Cut Period] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Title - Graph</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Calc_Table: Periods (Table: Periods)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
</ul></li>
<li><span class="caret">Calc_Column: Cut Period (Table: Periods)</span>
<ul class="nested">
<li><span class="caret">Calc_Table: Periods (Table: Periods)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
</ul></li>
<li><span class="caret">Calc_Column: Parameter Fields (Table: Periods)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Parameter Order (Table: Periods)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Title - Graph</td>
	</tr>
	<tr>
		<td>Switch - KPI Quantity (Month - Quarter)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SWITCH (
    [Selected Field Parameter],
    0, [Quarter - KPI Quantity],
    1, [Month - KPI Quantity]
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Switch - KPI Quantity (Month - Quarter)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Quarter - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Field Parameter (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Calc_Table: Periods (Table: Periods)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
</ul></li>
<li>Calc_Column: Parameter Order (Table: Periods)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Switch - KPI Quantity (Month - Quarter)</td>
	</tr>
	<tr>
		<td>Title Missing Values</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>"Missing " &amp; [Selected Missing Value Type]</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Title Missing Values</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected Missing Value Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux Missing Values</li>
<li>Column: Missing (Table: Aux Missing Values)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Title Missing Values</td>
	</tr>
	<tr>
		<td>Output Missing Value Type</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SWITCH (
    [Selected Missing Value Type],
    "Actuals", [No Actual],
    "Target", [No Target],
    "PY", [No PY]
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Output Missing Value Type</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: No Actual (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: No Target (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Selected Missing Value Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux Missing Values</li>
<li>Column: Missing (Table: Aux Missing Values)</li>
</ul></li>
<li><span class="caret">Measure: No PY (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Output Missing Value Type</td>
	</tr>
	<tr>
		<td>Not Show Blank - Critical Quantity</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _VALUE = [Month - KPI Quantity (Warning)]
RETURN
    IF ( ISBLANK ( _VALUE ), 0, _VALUE )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Not Show Blank - Critical Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Warning) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Not Show Blank - Critical Quantity</td>
	</tr>
	<tr>
		<td>Not Show Blank - Good Quantity</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _VALUE = [Month - KPI Quantity (Good)]
RETURN
    IF ( ISBLANK ( _VALUE ), 0, _VALUE )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Not Show Blank - Good Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Good) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Not Show Blank - Good Quantity</td>
	</tr>
	<tr>
		<td>Not Show Blank - Warning Quantity</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _VALUE = [Month - KPI Quantity (Critical)]
RETURN
    IF ( ISBLANK ( _VALUE ), 0, _VALUE )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Not Show Blank - Warning Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Month - KPI Quantity (Critical) (Table: Medidas)</span>
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Month - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Not Show Blank - Warning Quantity</td>
	</tr>
	<tr>
		<td>No Actual</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>IF ( ISBLANK ( [Value Actuals] ), "❌", "✅" )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: No Actual</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: No Actual</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Output Missing Value Type</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>No Target</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>IF ( ISBLANK ( [Value Target] ), "❌", "✅" )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: No Target</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: No Target</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Output Missing Value Type</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Output Status KPI - Conditional Formatting</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Just return status if has target value
VAR _Actual = [Value Actuals]
VAR _Target = [Value Target] //KPI Direction and threshold
VAR _Direction = [Selected KPI Direction]
VAR _Green_Thre = [Selected Green_Threshold]
VAR _Yellow_Thre = [Selected Yellow_Threshold] //Status for each kpi type
VAR _Status_Better_Up =
    SWITCH (
        TRUE (),
        _Actual &gt;= _Green_Thre * _Target, 1,
        _Actual &gt;= _Yellow_Thre * _Target, 0,
        _Actual &lt; _Yellow_Thre * _Target, -1
    )
VAR _Status_Better_Down =
    SWITCH (
        TRUE (),
        _Actual &lt;= _Yellow_Thre * _Target, 1,
        _Actual &lt;= _Green_Thre * _Target, 0,
        _Actual &gt; _Green_Thre * _Target, -1
    )
VAR _Final_Status =
    SWITCH (
        _Direction,
        "Better Up", _Status_Better_Up,
        "Better Down", _Status_Better_Down
    )
VAR _Return_Color =
    SWITCH ( _Final_Status, 1, "#509F2E", 0, "#FDCF33", -1, "#CA0B0F" )
RETURN
    IF ( INT ( ISBLANK ( _Target ) ), "#509F2E", _Return_Color )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Output Status KPI - Conditional Formatting</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Output Status KPI - Conditional Formatting</td>
	</tr>
	<tr>
		<td>Selected Missing Value Type</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'Aux Missing Values'[Missing] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Missing Value Type</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux Missing Values</li>
<li>Column: Missing (Table: Aux Missing Values)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Missing Value Type</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Title Missing Values</li>
<li>Measure: Output Missing Value Type</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Title Annual Summary</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>"Annual Summary (" &amp; [Selected Workook Year] &amp; ")"</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Title Annual Summary</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected Workook Year (Table: Medidas)</span>
<ul class="nested">
<li>Table: Year Filter Propagation Wokrbooks</li>
<li>Column: Year Filter (Table: Year Filter Propagation Wokrbooks)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Title Annual Summary</td>
	</tr>
	<tr>
		<td>Annual - KPI Quantity</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>CALCULATE (
    SUMX ( VALUES ( 'dim KPI'[KPI] ), 1 ),
    FILTER (
        VALUES ( 'dim KPI'[KPI] ),
        [Output Status KPI] &lt;= MAX ( 'Aux FIlter Status KPI Qt'[Value] )
            &amp;&amp; [Output Status KPI] &gt;= MIN ( 'Aux FIlter Status KPI Qt'[Value] )
            &amp;&amp; [Value Actuals] &lt;&gt; BLANK ()
    )
)
--  &amp;&amp;  [Value Target] &lt;&gt; BLANK()))</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Annual - KPI Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Annual - KPI Quantity</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Annual - KPI Quantity (Critical)</li>
<li>Measure: Annual - KPI Quantity (Warning)</li>
<li>Measure: Annual - KPI Quantity (Good)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Annual - KPI Quantity (Critical)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _VALUE =
    CALCULATE (
        [Annual - KPI Quantity],
        ALL ( 'Aux FIlter Status KPI Qt' ),
        'Aux FIlter Status KPI Qt'[Value] = -1
    )
RETURN
    IF ( ISBLANK ( _VALUE ), 0, _VALUE )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Annual - KPI Quantity (Critical)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Annual - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Annual - KPI Quantity (Critical)</td>
	</tr>
	<tr>
		<td>Annual - KPI Quantity (Warning)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _VALUE =
    CALCULATE (
        [Annual - KPI Quantity],
        ALL ( 'Aux FIlter Status KPI Qt' ),
        'Aux FIlter Status KPI Qt'[Value] = 0
    )
RETURN
    IF ( ISBLANK ( _VALUE ), 0, _VALUE )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Annual - KPI Quantity (Warning)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Annual - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Annual - KPI Quantity (Warning)</td>
	</tr>
	<tr>
		<td>Annual - KPI Quantity (Good)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _VALUE =
    CALCULATE (
        [Annual - KPI Quantity],
        ALL ( 'Aux FIlter Status KPI Qt' ),
        'Aux FIlter Status KPI Qt'[Value] = 1
    )
RETURN
    IF ( ISBLANK ( _VALUE ), 0, _VALUE )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Annual - KPI Quantity (Good)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li><span class="caret">Measure: Annual - KPI Quantity (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Output Status KPI (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li>Table: Aux FIlter Status KPI Qt</li>
<li>Column: Value (Table: Aux FIlter Status KPI Qt)</li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Annual - KPI Quantity (Good)</td>
	</tr>
	<tr>
		<td>Selected KPI Father</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim KPI'[Father KPI] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected KPI Father</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected KPI Father</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Visual Filter - Father (Included / Excluded)</li>
<li>Measure: Title Chart Hierarchy Analysis</li>
<li>Measure: Title - Hierarchical Analysis</li>
<li>Measure: PY - Current or Last Month (Father KPI)</li>
<li>Measure: Result - Current or Last Month (Father KPI)</li>
<li>Measure: Target - Current or Last Month (Father KPI)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Final - Value Actuals (Hierarchy Analysis)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _FORMAT_SELECTED = [Selected KPI Type]
VAR _Actual_Only = [Base - Value Actual (Hierarchy Analysis)]
RETURN
    IF (
        NOT ( _Actual_Only ) = BLANK (),
        SWITCH (
            _FORMAT_SELECTED,
            "Percentage", FORMAT ( _Actual_Only, "Percent" ),
            "Number", _Actual_Only,
            "MW", _Actual_Only,
            "Currency (3)", "$ " &amp; FIXED ( _Actual_Only, 3 ),
            "Currency", "$ " &amp; FIXED ( _Actual_Only, 2 )
        )
    )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Final - Value Actuals (Hierarchy Analysis)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Base - Value Actual (Hierarchy Analysis) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Final - Value Actuals (Hierarchy Analysis)</td>
	</tr>
	<tr>
		<td>Final - Value Target (Hierarchy Analysis)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _FORMAT_SELECTED = [Selected KPI Type]
VAR _Target_Only = [Base - Value Target (Hierarchy Analysis)]
RETURN
    IF (
        NOT ( _Target_Only ) = BLANK (),
        SWITCH (
            _FORMAT_SELECTED,
            "Percentage", FORMAT ( _Target_Only, "Percent" ),
            "Number", _Target_Only,
            "MW", _Target_Only,
            "Currency (3)", "$ " &amp; FIXED ( _Target_Only, 3 ),
            "Currency", "$ " &amp; FIXED ( _Target_Only, 2 )
        )
    )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Final - Value Target (Hierarchy Analysis)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Base - Value Target (Hierarchy Analysis) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Final - Value Target (Hierarchy Analysis)</td>
	</tr>
	<tr>
		<td>Selected Field Parameter</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( Periods[Parameter Order] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Field Parameter</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Calc_Table: Periods (Table: Periods)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
<li><span class="caret">Column: Month (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Mês (Table: dim Calendar)</li>
</ul></li>
</ul></li>
<li>Calc_Column: Parameter Order (Table: Periods)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Field Parameter</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Switch - Good KPI (Month - Quarter)</li>
<li>Measure: Switch - Warning KPI (Month - Quarter)</li>
<li>Measure: Switch - Critical KPI (Month - Quarter)</li>
<li>Measure: Switch - KPI Quantity (Month - Quarter)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Visual Filter - Father (Included / Excluded)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>IF ( [Selected KPI Father] = [Selected KPI], 0, 1 )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Visual Filter - Father (Included / Excluded)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected KPI (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Father (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Visual Filter - Father (Included / Excluded)</td>
	</tr>
	<tr>
		<td>Final - Value PY (Hierarchy Analysis)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _FORMAT_SELECTED = [Selected KPI Type]
VAR _ONLY_FATHER =
    FILTER (
        VALUES ( 'dim KPI'[KPI] ),
        'dim KPI'[KPI] = SELECTEDVALUE ( 'dim KPI'[Father KPI] )
    )
VAR _PY =
    CALCULATE ( [Value PY], _ONLY_FATHER )
RETURN
    IF (
        NOT ( _PY ) = BLANK (),
        SWITCH (
            _FORMAT_SELECTED,
            "Percentage", FORMAT ( _PY, "Percent" ),
            "Number", _PY,
            "MW", _PY,
            "Currency (3)", "$ " &amp; FIXED ( _PY, 3 ),
            "Currency", "$ " &amp; FIXED ( _PY, 2 )
        )
    )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Final - Value PY (Hierarchy Analysis)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li>Column: Father KPI (Table: dim KPI)</li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Final - Value PY (Hierarchy Analysis)</td>
	</tr>
	<tr>
		<td>Value PY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>AVERAGE ( 'fact PY'[Value] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Value PY</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Value PY</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Final - Value PY (Hierarchy Analysis)</li>
<li><span class="caret">Measure: Format Value - PY</span>
<ul class="nested">
<li>Measure: PY - Current or Last Month</li>
<li>Measure: Result - Current or Last Month</li>
<li>Measure: PY - Current or Last Month (Father KPI)</li>
<li>Measure: Result - Current or Last Month (Father KPI)</li>
</ul></li>
<li>Measure: Actual vs PY (Conditional Formatting)</li>
<li><span class="caret">Measure: No PY</span>
<ul class="nested">
<li>Measure: Output Missing Value Type</li>
</ul></li>
<li><span class="caret">Measure: PY - Current or Last Month (Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (PY) - LY or CY</li>
</ul></li>
<li><span class="caret">Measure: Result - Current or Last Month (Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (Result) - LY or CY</li>
</ul></li>
<li><span class="caret">Measure: PY - Current or Last Month (Father KPI - Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (PY - Father KPI) - LY or CY</li>
</ul></li>
<li><span class="caret">Measure: Result - Current or Last Month (Father KPI - Value)</span>
<ul class="nested">
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
</ul></li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Format Value - PY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _FORMAT_SELECTED = [Selected KPI Type]
VAR _PY = [Value PY]
RETURN
    IF (
        NOT ( _PY ) = BLANK (),
        SWITCH (
            _FORMAT_SELECTED,
            "Percentage", FORMAT ( _PY, "Percent" ),
            "Number", _PY,
            "MW", _PY,
            "Currency (3)", "$ " &amp; FIXED ( _PY, 3 ),
            "Currency", "$ " &amp; FIXED ( _PY, 2 )
        )
    )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Format Value - PY</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Format Value - PY</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: PY - Current or Last Month</li>
<li>Measure: Result - Current or Last Month</li>
<li>Measure: PY - Current or Last Month (Father KPI)</li>
<li>Measure: Result - Current or Last Month (Father KPI)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Actual vs PY (Conditional Formatting)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _Actual = [Value Actuals]
VAR _PY = [Value PY] //KPI Direction 
VAR _Direction = [Selected KPI Direction] //Status for each kpi type
VAR _Status_Better_Up =
    SWITCH ( TRUE (), _Actual &gt;= _PY, 1, _Actual &lt; _PY - 1 )
VAR _Status_Better_Down =
    SWITCH ( TRUE (), _Actual &lt;= _PY, 1, _Actual &gt; _PY, -1 )
VAR _Final_Status =
    SWITCH (
        _Direction,
        "Better Up", _Status_Better_Up,
        "Better Down", _Status_Better_Down
    )
VAR _Return_Color =
    SWITCH ( _Final_Status, 1, "#509F2E", -1, "#CA0B0F" )
RETURN
    IF ( INT ( ISBLANK ( _PY ) ), "#509F2E", _Return_Color )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Actual vs PY (Conditional Formatting)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Actual vs PY (Conditional Formatting)</td>
	</tr>
	<tr>
		<td>Title Chart Hierarchy Analysis</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>[Selected KPI Father] &amp; "  -  Status Over Time"</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Title Chart Hierarchy Analysis</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Father (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Title Chart Hierarchy Analysis</td>
	</tr>
	<tr>
		<td>No PY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>IF ( ISBLANK ( [Value PY] ), "❌", "✅" )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: No PY</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: No PY</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Output Missing Value Type</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Selected Title Area Tv</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim KPI'[Related Area] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Title Area Tv</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Related Area (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Title Area Tv</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Title TV Selected Area</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Title TV Selected Area</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>[Selected Title Area Tv]</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Title TV Selected Area</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected Title Area Tv (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Related Area (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Title TV Selected Area</td>
	</tr>
	<tr>
		<td>Selected Quarter</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim Calendar'[Quarter] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Quarter</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li><span class="caret">Column: Quarter (Table: dim Calendar)</span>
<ul class="nested">
<li>Attribute_Hierarchy: Numero do Trimestre (Table: dim Calendar)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Selected Quarter</td>
	</tr>
	<tr>
		<td>Conditional Formatting - Hierarchy Analysis (Actual vs Target)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Just return status if has target value
VAR _Actual = [Base - Value Actual (Hierarchy Analysis)]
VAR _Target = [Base - Value Target (Hierarchy Analysis)] //KPI Direction and threshold
VAR _Direction = [Selected KPI Direction]
VAR _Green_Thre = [Selected Green_Threshold]
VAR _Yellow_Thre = [Selected Yellow_Threshold] //Status for each kpi type
VAR _Status_Better_Up =
    SWITCH (
        TRUE (),
        _Actual &gt;= _Green_Thre * _Target, 1,
        _Actual &gt;= _Yellow_Thre * _Target, 0,
        _Actual &lt; _Yellow_Thre * _Target, -1
    )
VAR _Status_Better_Down =
    SWITCH (
        TRUE (),
        _Actual &lt;= _Yellow_Thre * _Target, 1,
        _Actual &lt;= _Green_Thre * _Target, 0,
        _Actual &gt; _Green_Thre * _Target, -1
    )
VAR _Final_Status =
    SWITCH (
        _Direction,
        "Better Up", _Status_Better_Up,
        "Better Down", _Status_Better_Down
    )
VAR _Return_Color =
    SWITCH ( _Final_Status, 1, "#509F2E", 0, "#FDCF33", -1, "#CA0B0F" )
RETURN
    IF (
        INT ( ISBLANK ( _Target ) ),
        "#509F2E",
        IF ( NOT ( INT ( ISBLANK ( _Actual ) ) ), _Return_Color )
    )
// IF(
//     AND(NOT(INT(ISBLANK(_Actual))),NOT(INT(ISBLANK(_Target)))),_Return_Color)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Base - Value Actual (Hierarchy Analysis) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Base - Value Target (Hierarchy Analysis) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</td>
	</tr>
	<tr>
		<td>Base - Value Actual (Hierarchy Analysis)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _FORMAT_SELECTED = [Selected KPI Type]
VAR _ONLY_FATHER =
    FILTER (
        VALUES ( 'dim KPI'[KPI] ),
        'dim KPI'[KPI] = SELECTEDVALUE ( 'dim KPI'[Father KPI] )
    )
VAR _Actual_Only =
    CALCULATE ( [Value Actuals], _ONLY_FATHER )
RETURN
    IF ( NOT ( _Actual_Only ) = BLANK (), _Actual_Only )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Base - Value Actual (Hierarchy Analysis)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Base - Value Actual (Hierarchy Analysis)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Final - Value Actuals (Hierarchy Analysis)</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Base - Value Target (Hierarchy Analysis)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _FORMAT_SELECTED = [Selected KPI Type]
VAR _ONLY_FATHER =
    FILTER (
        VALUES ( 'dim KPI'[KPI] ),
        'dim KPI'[KPI] = SELECTEDVALUE ( 'dim KPI'[Father KPI] )
    )
VAR _Target_Only =
    CALCULATE ( [Value Target], _ONLY_FATHER )
RETURN
    IF ( NOT ( _Target_Only ) = BLANK (), _Target_Only )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Base - Value Target (Hierarchy Analysis)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Base - Value Target (Hierarchy Analysis)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Final - Value Target (Hierarchy Analysis)</li>
<li>Measure: Conditional Formatting - Hierarchy Analysis (Actual vs Target)</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Selected Workook Year</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>"Year " &amp; SELECTEDVALUE ( 'Year Filter Propagation Wokrbooks'[Year Filter] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Workook Year</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: Year Filter Propagation Wokrbooks</li>
<li>Column: Year Filter (Table: Year Filter Propagation Wokrbooks)</li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Workook Year</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Title Annual Summary</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Selected Area</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>SELECTEDVALUE ( 'dim KPI'[Related Area] )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Selected Area</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Related Area (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td>Measure: Selected Area</td>
	</tr>
	<tr>
		<td>PY - Current or Last Month</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>-- Nesse caso sempre vou além disso abaixo, voltar 1 ano!!!!!
// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE - 1, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_ACTUAL =
    CALCULATE (
        [Format Value - Actuals],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _USING_PY =
    CALCULATE (
        [Format Value - PY],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _RETURNED_VALUE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            _USING_PY,
            // Pegará da base do Actual para cálculo
            _USING_ACTUAL
        ),
        //Casos onde data corrente é maior que dia 10 
        _USING_ACTUAL
    )
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _RETURNED_VALUE ), "Pendente", _RETURNED_VALUE )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: PY - Current or Last Month</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Actuals (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Format Value - PY (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: PY - Current or Last Month</td>
	</tr>
	<tr>
		<td>Target - Current or Last Month</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base de Target da planilha do ano passado para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_TARGET =
    CALCULATE (
        [Format Value - Target],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    ) --Desnecessário esse trecho para lógica do Target
/*VAR _RETURNED_VALUE = 
IF(
    _DAY_CURRENT_DATE &lt;= 10,

    //Casos onde data corrente é menor ou igual a 10 
        IF(
              _MONTH_CURRENT_DATE = 1,

             // Pegará da base do PY para cálculo
             _USING_PY,
            
             // Pegará da base do Actual para cálculo
             _USING_ACTUAL),
             
             //Casos onde data corrente é maior que dia 10 
            _USING_ACTUAL)
*/
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _USING_TARGET ), "Pendente", _USING_TARGET )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Target - Current or Last Month</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Target (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Target - Current or Last Month</td>
	</tr>
	<tr>
		<td>Result - Current or Last Month</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            DATE ( _YEAR_CURRENT_DATE, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_ACTUAL =
    CALCULATE (
        [Format Value - Actuals],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _USING_PY =
    CALCULATE (
        [Format Value - PY],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _RETURNED_VALUE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            _USING_PY,
            // Pegará da base do Actual para cálculo
            _USING_ACTUAL
        ),
        //Casos onde data corrente é maior que dia 10 
        _USING_ACTUAL
    )
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _RETURNED_VALUE ), "Pendente", _RETURNED_VALUE )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Result - Current or Last Month</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Actuals (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Format Value - PY (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Result - Current or Last Month</td>
	</tr>
	<tr>
		<td>Conditional Formatting (Result) - LY or CY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _Actual = [Result - Current or Last Month (Value)]
VAR _Target = [Target - Current or Last Month (Value)]
VAR _Direction = [Selected KPI Direction]
VAR _Green_Thre = [Selected Green_Threshold]
VAR _Yellow_Thre = [Selected Yellow_Threshold] //Status for each kpi type
VAR _Status_Better_Up =
    SWITCH (
        TRUE (),
        _Actual &gt;= _Green_Thre * _Target, 1,
        _Actual &gt;= _Yellow_Thre * _Target, 0,
        _Actual &lt; _Yellow_Thre * _Target, -1
    )
VAR _Status_Better_Down =
    SWITCH (
        TRUE (),
        _Actual &lt;= _Yellow_Thre * _Target, 1,
        _Actual &lt;= _Green_Thre * _Target, 0,
        _Actual &gt; _Green_Thre * _Target, -1
    )
VAR _Final_Status =
    SWITCH (
        _Direction,
        "Better Up", _Status_Better_Up,
        "Better Down", _Status_Better_Down
    )
VAR _Return_Color =
    SWITCH ( _Final_Status, 1, "#509F2E", 0, "#FDCF33", -1, "#CA0B0F" )
RETURN
    IF ( _Actual = "Pendente", "#EA5A06", IF ( _Target = "Pendente", "#509F2E" ) )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Conditional Formatting (Result) - LY or CY</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Result - Current or Last Month (Value) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Target - Current or Last Month (Value) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Conditional Formatting (Result) - LY or CY</td>
	</tr>
	<tr>
		<td>PY - Current or Last Month (Value)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>-- Nesse caso sempre vou além disso abaixo, voltar 1 ano!!!!!
// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE - 1, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_ACTUAL =
    CALCULATE (
        [Value Actuals],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _USING_PY =
    CALCULATE (
        [Value PY],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _RETURNED_VALUE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            _USING_PY,
            // Pegará da base do Actual para cálculo
            _USING_ACTUAL
        ),
        //Casos onde data corrente é maior que dia 10 
        _USING_ACTUAL
    )
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _RETURNED_VALUE ), "Pendente", _RETURNED_VALUE )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: PY - Current or Last Month (Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: PY - Current or Last Month (Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Conditional Formatting (PY) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Result - Current or Last Month (Value)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            DATE ( _YEAR_CURRENT_DATE, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_ACTUAL =
    CALCULATE (
        [Value Actuals],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _USING_PY =
    CALCULATE (
        [Value PY],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _RETURNED_VALUE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            _USING_PY,
            // Pegará da base do Actual para cálculo
            _USING_ACTUAL
        ),
        //Casos onde data corrente é maior que dia 10 
        _USING_ACTUAL
    )
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _RETURNED_VALUE ), "Pendente", _RETURNED_VALUE )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Result - Current or Last Month (Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Result - Current or Last Month (Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Conditional Formatting (Result) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Target - Current or Last Month (Value)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base de Target da planilha do ano passado para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_TARGET =
    CALCULATE (
        [Value Target],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    ) --Desnecessário esse trecho para lógica do Target
/*VAR _RETURNED_VALUE = 
IF(
    _DAY_CURRENT_DATE &lt;= 10,

    //Casos onde data corrente é menor ou igual a 10 
        IF(
              _MONTH_CURRENT_DATE = 1,

             // Pegará da base do PY para cálculo
             _USING_PY,
            
             // Pegará da base do Actual para cálculo
             _USING_ACTUAL),
             
             //Casos onde data corrente é maior que dia 10 
            _USING_ACTUAL)
*/
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _USING_TARGET ), "Pendente", _USING_TARGET )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Target - Current or Last Month (Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Target - Current or Last Month (Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Conditional Formatting (Result) - LY or CY</li>
<li>Measure: Conditional Formatting (Target) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Conditional Formatting (Target) - LY or CY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>IF (
    [Target - Current or Last Month (Value)] = "Pendente",
    "#EA5A06",
    "#000000"
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Conditional Formatting (Target) - LY or CY</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Target - Current or Last Month (Value) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Conditional Formatting (Target) - LY or CY</td>
	</tr>
	<tr>
		<td>Conditional Formatting (PY) - LY or CY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>IF ( [PY - Current or Last Month (Value)] = "Pendente", "#EA5A06", "#000000" )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Conditional Formatting (PY) - LY or CY</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: PY - Current or Last Month (Value) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Conditional Formatting (PY) - LY or CY</td>
	</tr>
	<tr>
		<td>Titulo Cards Page 2 and 3</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY )
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        IF (
            _MONTH_CURRENT_DATE = 1,
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
RETURN
    "Reference Date: " &amp; FORMAT ( _RETURNED_DATE, "DD/MM/YYYY" )</pre></td>
		<td>Measure: Titulo Cards Page 2 and 3</td>
		<td>Measure: Titulo Cards Page 2 and 3</td>
	</tr>
	<tr>
		<td>PY - Current or Last Month (Father KPI)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>-- Nesse caso sempre vou além disso abaixo, voltar 1 ano!!!!!
// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE - 1, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_ACTUAL =
    CALCULATE (
        [Format Value - Actuals],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE,
        FILTER ( ALL ( 'dim KPI'[KPI] ), 'dim KPI'[KPI] = [Selected KPI Father] )
    )
VAR _USING_PY =
    CALCULATE (
        [Format Value - PY],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE,
        FILTER ( ALL ( 'dim KPI'[KPI] ), 'dim KPI'[KPI] = [Selected KPI Father] )
    )
VAR _RETURNED_VALUE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            _USING_PY,
            // Pegará da base do Actual para cálculo
            _USING_ACTUAL
        ),
        //Casos onde data corrente é maior que dia 10 
        _USING_ACTUAL
    )
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _RETURNED_VALUE ), "Pendente", _RETURNED_VALUE )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: PY - Current or Last Month (Father KPI)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Actuals (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Father (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li><span class="caret">Measure: Format Value - PY (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: PY - Current or Last Month (Father KPI)</td>
	</tr>
	<tr>
		<td>Result - Current or Last Month (Father KPI)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            DATE ( _YEAR_CURRENT_DATE, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_ACTUAL =
    CALCULATE (
        [Format Value - Actuals],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE,
        FILTER ( ALL ( 'dim KPI'[KPI] ), 'dim KPI'[KPI] = [Selected KPI Father] )
    )
VAR _USING_PY =
    CALCULATE (
        [Format Value - PY],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE,
        FILTER ( ALL ( 'dim KPI'[KPI] ), 'dim KPI'[KPI] = [Selected KPI Father] )
    )
VAR _RETURNED_VALUE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            _USING_PY,
            // Pegará da base do Actual para cálculo
            _USING_ACTUAL
        ),
        //Casos onde data corrente é maior que dia 10 
        _USING_ACTUAL
    )
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _RETURNED_VALUE ), "Pendente", _RETURNED_VALUE )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Result - Current or Last Month (Father KPI)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Actuals (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Father (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
<li><span class="caret">Measure: Format Value - PY (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Result - Current or Last Month (Father KPI)</td>
	</tr>
	<tr>
		<td>Target - Current or Last Month (Father KPI)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base de Target da planilha do ano passado para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_TARGET =
    CALCULATE (
        [Format Value - Target],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE,
        FILTER ( ALL ( 'dim KPI'[KPI] ), 'dim KPI'[KPI] = [Selected KPI Father] )
    ) --Desnecessário esse trecho para lógica do Target
/*VAR _RETURNED_VALUE = 
IF(
    _DAY_CURRENT_DATE &lt;= 10,

    //Casos onde data corrente é menor ou igual a 10 
        IF(
              _MONTH_CURRENT_DATE = 1,

             // Pegará da base do PY para cálculo
             _USING_PY,
            
             // Pegará da base do Actual para cálculo
             _USING_ACTUAL),
             
             //Casos onde data corrente é maior que dia 10 
            _USING_ACTUAL)
*/
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _USING_TARGET ), "Pendente", _USING_TARGET )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Target - Current or Last Month (Father KPI)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim KPI</li>
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Target (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Father (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
<li>Column: KPI (Table: dim KPI)</li>
</ul></span></li>
</ul></td>
		<td>Measure: Target - Current or Last Month (Father KPI)</td>
	</tr>
	<tr>
		<td>PY - Current or Last Month (Father KPI - Value)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>-- Nesse caso sempre vou além disso abaixo, voltar 1 ano!!!!!
// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE - 1, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_ACTUAL =
    CALCULATE (
        [Value Actuals],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _USING_PY =
    CALCULATE (
        [Value PY],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _RETURNED_VALUE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            _USING_PY,
            // Pegará da base do Actual para cálculo
            _USING_ACTUAL
        ),
        //Casos onde data corrente é maior que dia 10 
        _USING_ACTUAL
    )
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _RETURNED_VALUE ), "Pendente", _RETURNED_VALUE )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: PY - Current or Last Month (Father KPI - Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: PY - Current or Last Month (Father KPI - Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Conditional Formatting (PY - Father KPI) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Result - Current or Last Month (Father KPI - Value)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            DATE ( _YEAR_CURRENT_DATE, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_ACTUAL =
    CALCULATE (
        [Value Actuals],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _USING_PY =
    CALCULATE (
        [Value PY],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    )
VAR _RETURNED_VALUE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base do PY para cálculo
            _USING_PY,
            // Pegará da base do Actual para cálculo
            _USING_ACTUAL
        ),
        //Casos onde data corrente é maior que dia 10 
        _USING_ACTUAL
    )
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _RETURNED_VALUE ), "Pendente", _RETURNED_VALUE )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Result - Current or Last Month (Father KPI - Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Result - Current or Last Month (Father KPI - Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Target - Current or Last Month (Father KPI - Value)</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>// Abaixo exemplo descrevendo
/*Exemplo
Considerando Janeiro de 2023
- Até &lt;= Dia 10 do período corrente, vai trazer 
informações de Dezembro de 2022.
- Passou do dia 10, vai trazer informações de Janeiro de 2023.
-- Em ambos os casos, tem que aparecer "Pendente" quando retornar BLANK()*/
VAR _TODAY =
    TODAY ()
VAR _YEAR_CURRENT_DATE =
    YEAR ( _TODAY )
VAR _MONTH_CURRENT_DATE =
    MONTH ( _TODAY )
VAR _DAY_CURRENT_DATE =
    DAY ( _TODAY ) ------------------------------------------------------------------------------------------------------------------------------------
//Date to be used in next calculation to retrieve correct data information
VAR _RETURNED_DATE =
    IF (
        _DAY_CURRENT_DATE &lt;= 10,
        //Casos onde data corrente é menor ou igual a 10 
        IF (
            _MONTH_CURRENT_DATE = 1,
            // Pegará da base de Target da planilha do ano passado para cálculo
            DATE ( _YEAR_CURRENT_DATE - 1, 12, 1 ),
            // Pegará da base do Actual para cálculo
            DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE - 1, 1 )
        ),
        //Casos onde data corrente é maior que dia 10 
        DATE ( _YEAR_CURRENT_DATE, _MONTH_CURRENT_DATE, 1 )
    )
VAR _USING_TARGET =
    CALCULATE (
        [Format Value - Target],
        ALL ( 'dim Calendar'[Calendario] ),
        'dim Calendar'[Calendario] = _RETURNED_DATE
    ) --Desnecessário esse trecho para lógica do Target
/*VAR _RETURNED_VALUE = 
IF(
    _DAY_CURRENT_DATE &lt;= 10,

    //Casos onde data corrente é menor ou igual a 10 
        IF(
              _MONTH_CURRENT_DATE = 1,

             // Pegará da base do PY para cálculo
             _USING_PY,
            
             // Pegará da base do Actual para cálculo
             _USING_ACTUAL),
             
             //Casos onde data corrente é maior que dia 10 
            _USING_ACTUAL)
*/
VAR _FINAL_OUTPUT =
    IF ( ISBLANK ( _USING_TARGET ), "Pendente", _USING_TARGET )
RETURN
    _FINAL_OUTPUT</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Target - Current or Last Month (Father KPI - Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Target (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Target - Current or Last Month (Father KPI - Value)</span><span class="dropDownCaret">
<ul class="nested">
<li>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</li>
<li>Measure: Conditional Formatting (Target - Father KPI) - LY or CY</li>
</ul></span></li>
</ul></td>
	</tr>
	<tr>
		<td>Conditional Formatting (PY - Father KPI) - LY or CY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>IF (
    [PY - Current or Last Month (Father KPI - Value)] = "Pendente",
    "#EA5A06",
    "#000000"
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Conditional Formatting (PY - Father KPI) - LY or CY</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: PY - Current or Last Month (Father KPI - Value) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Conditional Formatting (PY - Father KPI) - LY or CY</td>
	</tr>
	<tr>
		<td>Conditional Formatting (Result - Fahter KPI) - LY or CY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>VAR _Actual = [Result - Current or Last Month (Father KPI - Value)]
VAR _Target = [Target - Current or Last Month (Father KPI - Value)]
VAR _Direction = [Selected KPI Direction]
VAR _Green_Thre = [Selected Green_Threshold]
VAR _Yellow_Thre = [Selected Yellow_Threshold] //Status for each kpi type
VAR _Status_Better_Up =
    SWITCH (
        TRUE (),
        _Actual &gt;= _Green_Thre * _Target, 1,
        _Actual &gt;= _Yellow_Thre * _Target, 0,
        _Actual &lt; _Yellow_Thre * _Target, -1
    )
VAR _Status_Better_Down =
    SWITCH (
        TRUE (),
        _Actual &lt;= _Yellow_Thre * _Target, 1,
        _Actual &lt;= _Green_Thre * _Target, 0,
        _Actual &gt; _Green_Thre * _Target, -1
    )
VAR _Final_Status =
    SWITCH (
        _Direction,
        "Better Up", _Status_Better_Up,
        "Better Down", _Status_Better_Down
    )
VAR _Return_Color =
    SWITCH ( _Final_Status, 1, "#509F2E", 0, "#FDCF33", -1, "#CA0B0F" )
RETURN
    IF ( _Actual = "Pendente", "#EA5A06", IF ( _Target = "Pendente", "#509F2E" ) )</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected Green_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Green) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected Yellow_Threshold (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Threshold (Yellow) (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Selected KPI Direction (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Direction (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Result - Current or Last Month (Father KPI - Value) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Value Actuals (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Actuals</li>
<li>Column: Value (Table: fact Actuals)</li>
</ul></li>
<li><span class="caret">Measure: Value PY (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact PY</li>
<li>Column: Value (Table: fact PY)</li>
</ul></li>
</ul></li>
<li><span class="caret">Measure: Target - Current or Last Month (Father KPI - Value) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Target (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Conditional Formatting (Result - Fahter KPI) - LY or CY</td>
	</tr>
	<tr>
		<td>Conditional Formatting (Target - Father KPI) - LY or CY</td>
		<td>Medidas</td>
		<td></td>
		<td><pre>IF (
    [Target - Current or Last Month (Father KPI - Value)] = "Pendente",
    "#EA5A06",
    "#000000"
)</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Conditional Formatting (Target - Father KPI) - LY or CY</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Target - Current or Last Month (Father KPI - Value) (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim Calendar</li>
<li>Column: Calendario (Table: dim Calendar)</li>
<li><span class="caret">Measure: Format Value - Target (Table: Medidas)</span>
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Type (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Type (Table: dim KPI)</li>
</ul></li>
<li><span class="caret">Measure: Value Target (Table: Medidas)</span>
<ul class="nested">
<li>Table: fact Target</li>
<li>Column: Value (Table: fact Target)</li>
</ul></li>
</ul></li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Conditional Formatting (Target - Father KPI) - LY or CY</td>
	</tr>
	<tr>
		<td>Title - Hierarchical Analysis</td>
		<td>Aux FIlter Status KPI Qt</td>
		<td></td>
		<td><pre>"These numbers in this shape just refers to " &amp; [Selected KPI Father]</pre></td>
		<td><ul id="myUL">
<li><span class="caret">Measure: Title - Hierarchical Analysis</span><span class="dropDownCaret">
<ul class="nested">
<li><span class="caret">Measure: Selected KPI Father (Table: Medidas)</span>
<ul class="nested">
<li>Table: dim KPI</li>
<li>Column: Father KPI (Table: dim KPI)</li>
</ul></li>
</ul></span></li>
</ul></td>
		<td>Measure: Title - Hierarchical Analysis</td>
	</tr>
</tbody></table>
<script>
	var toggler = document.getElementsByClassName("caret");
	for (var i = 0; i < toggler.length; i++){
		toggler[i].addEventListener("click", function() {
			this.parentElement.querySelector(".nested").classList.toggle("active");
		});
	}
		
	var togglerAll = document.getElementsByClassName("dropDownCaret");
	for (var j=0; j<togglerAll.length; j++){
		togglerAll[j].addEventListener("click", function(event){
			if (event.currentTarget != event.target) return;
			if(this.parentElement.querySelector(".nested").classList.contains("active")){
				this.querySelectorAll(".nested").forEach(function(currentValue, currentIndex, listObj) {
					if(currentValue.classList.contains("active")){
						currentValue.classList.remove("active");
					}
				});
			}
			else{
				this.querySelectorAll(".nested").forEach(function(currentValue, currentIndex, listObj) {
					if(!currentValue.classList.contains("active")){
						currentValue.classList.add("active");
					}
				});
			}
		});
	}
</script>
</body>
</html>